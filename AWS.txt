
2019/12/04
	
Scaling Aurora
	Aurora is designed to transparently handle the loss of up to two copies of data without affecting
	database write availability and up to three copies without affecting read availability
	Aurora storage is also self-healing. Data blocks and disks are continuously scanned for errors and repaired automatically.
	
	
Two Types of Aurora Replicas are available
	Aurora REplicas (currently 15)
	MySQL REad Replicas (currently 5)
	
Backups with Aurora
	Automated backups are always enabled on Amazon Aurora DB instances.
	Backups do not impact database performance
	You can also take snapshots with Aurora.This also dose not impact on performance
	You can share Aurora Snapshots with other AWS accounts
	

Exam tips
	2 copies of your data in contained in each availability zone, with minimum of 3 availability zones. 6 copies of your data.
	You can share Aurora Snapshots with other AWS accounts
	2 Types of replicas available. Aurora Replicas and MySQL replicas
	Automated failover in only available with Aurora Replicas
	MySQL database can move to Aurora database by first create read replica from MySQL database then promote the Aurora replica then will create new Aurora Database
	other way is create snapshot and restoring snapshot as well
	Aurora has automated backups turned on by default. You can also take Snapshot with Aurora. You can share these snapshot with other AWS accounts
	
	
Elasticache

ElastiCache is a web service that makes it easy to deploy, operate, and scale an in-memory cache in the cloud. The service improves the performance of web applications by
allowing you to retrieve information from fast, managed, in-memory caches, instead of relaying entirely on slower disk-based database.

ElastiCache cache the most used quires in cache

ElastiCache supports two open-source in-memory cacheing engines
	Memcached - simple
	Redis - have lot of options

	
Exam tips
Use Elasticache to increase database and web application perfromance
Redis is Multi-AZ
You can do back ups and restore in Redis
If you asked database performance is low how to increase performance
	one is create read replica for database
	other one is use Elasicache
	


	
	
DNS

User firendly URL converts to Ip address
Top level domain names are controlled by the Internet Assigned Number Authority(IANA) in a root zone database 

popular domain registrars include
Amazon, GoDaddy.com, 123-reg.co.uk etc


What's an TTL
 The length that a DNS record is cached on either the Resolving Server or the users own local PC is equal to the value of the "Time To Live"(TTL)
 in seconds. The lower the time to live, the faster changes to DNS records take to propagate throughout the internet


Exam Tips
ELBs do not have pre-defined IPV4 addresses, you resolve to them using a DNS name
Understand the difference between an Alias Record and a CNAME
Given the choice, always choose an Alias Record over a CNAME

Common DNS Types
	SOA Records
	NS Records
	A Records
	CNAMES
	Mix REcords
	PTR Records
	
Exam Tips
 You can buy domain names directly with AWS
 It can take up to 3 days to register depending on the circumstances

 
 
 
Route 53 Routing Policies Available in AWS
	Simple Routing
	Weighed Routing
	Latency-based Routing
	Failover Routing
	Geolocation Routing
	Geoproximity Routing(Traffic Flow Only)
	Multivalue Anser Routing
	
	
Simple Routing

If you choose the simple routing policy you can only have one record with multiple IP addresses
If you specify multiple values in a record, Route 53 returns all values to the user in a random order
	
Screenshot add 2


Weighted Routing Policy

Allows you split your traffic based on different weights assigned
For Example, you can set 10% of your traffic to go to US-EAST-1 and 90% to go to EU-WEST-1

Screenshot add 2

Have to create multiple DNS record sets with according to weighted precentage

Health Checks
	You can set health checks on individual recode sets
	If a record set fails a health check it will be removed from Route53 until it passes the health check.
	You can set SNS notifications to alert you if a health check is failed
	
	
	
Latency-Based Routing

Allows you to route your traffic based on the lowest network latency for your end user(ie which region will give them the fastest response time)

To use latency-based routing, you create a latency resource record set the Amazon EC2(or ELB) resource in each region that hosts your website.
When Amazon Route 53 receives a query for your site, it selects the latency resource record set for the region that gives the user the lower latency.
Route 53 then responds with the values associated with that resource record set.

screenshot 

Failvoer Routing

Failover routing policies are used when you want to create an active/passive set up. For example, you may want your primary site to be in EU-WEST-2 and your secondary DR site
in AP-SOUTEAST-2

Route53 will monitor the health of your primary site using a health check 
A health check monitors the health of your end point

Screenshot 2 


Geolocation Rouging policy

Geolocation routing lets you choose where your traffic will be sent based on the geographic location of your users(ie the location from which DNS queires originate) For Example,
you might want all queries from Europe to be routed to a fleet of EC2 instances that are specifically configured for your European customers. These servers may have the local language
of your European customers and all prices are displayed in Euros

Screenshot




GeoProxymity Routing Policy(Traffic flow only)

Geoproximity routing lets Amazon Route 53 route traffic to your resources based on the geographic location of your users and your resources.
You can also optionally choose to route more traffic or less to a given resource by specifying a value, known as a bias, A bias expands or shrinks the size of the
geographic region from which is routed to a resource

To use geoproxyimity routing, you must use Route 53 traffic flow



Multivalue Answer policy

Multivalue answer routing lets you configure Amazon Route 53 to return multiple values, such as IP addresses for your web server, in response to DNS queries. You can specify multiple values
for almost any record, but multivalue answer let you check the health of each resource, so Route 53 returns only values for healthy resources.
This is similar to simple routing however it allows you to put health checks on each record set.

just simple route with health check, for simple routing you cannot set helth check on it

screenshot 2

Exam tips
	ELBs do not have pre-defined IPV4 addresses, you resolve to them using a DNS name
	Understand the difference between an Alias Record and a CNAME(Batman -> points to another record so that record has the real value)
	Given the choice, always choose an Alias Record over a CNAME




VPC

Amazon Virtual Private Cloud (Amazon VPC) lets you provision a logically isolated section of the Amazon Web Service Cloud where you can launch AWS resources in a 
virtual network that you define. You have complete control over your virtual networking environment, including selection of your own IP address range, creation of subnets,
and configuration of route tables and network gateways

YOu can easily customize the network configuration for your Amazon Virtual Private Cloud. For example, you can create a public-facing subnet for your webservers that
has access to the internet, and place your backend systems such as databases or application servers in a private-facing subnet with no internet access. You can leverage multiple
layers of security, including security groups and network access control lists, to help control access to Amazon EC2 instances in each subnet. 

Additionally, you can create a Hardware Virtual Private Network(VPN) connection between your corporate datacenter and your VPC and leverage the AWS cloud as an extension of your corporate datacenter.

screenshot

What can we do with a VPC

	Launch instances into a subnet of your choosing
	Assign custom IP address ranges in each subnet
	Configure route tables between subnets
	Create internet gateway and attach it to our VPC
	Much better security control over your AWS resources
	Instance security groups
	Subnet network access control list(ACLs)
	

Default VPS vs Custom VPC
	Default VPC is user firendly, allowing you to immediately deploy instances.
	All Subnets in default VPC have a route out to the internet.
	Each EC2 instance has both a public and private IP address
	
VPC Peering
	Allows you to connect one VPC with another via a direct network route using private IP addresses
	Instances behave as if they were on the same private network
	You can peer VPC's with other AWS accounts as well as with other VPCs in the same account.
	Peering is in a star configuration: ie 1 central VPC peers with 4 others. 
	NO TANSITIVE PEERING
	
screenshot


Exam tips 
	Think of a VPC as a logical datacenter in AWS
	Consists of IGWs(or Virtual Private Gateways), Route Tables, Network Access Control Lists, Subnets, and Security Groups
	1 Subnet = 1 Availability Zone
	Security Groups are Statefull, Network Access Contol List are Stateless
	NO TRANSITIVE PEERING
	
	
	
	

	
	
	
	
	

	
	
	
	
HA Architecture
	
Elastic Load Balancers

Load Balancer Types
	Application Load Balancer
	Network Load Balancer
	Classic Load Balancer
	
	
Application Load Balancers
   are best suited for load balancing of HTTP and HTTPS traffic. They operate at Layer 7 and are application aware. The are intelligent, and you can create advanced request routing,
   sending specified requests to specific web servers.
  
Network Load Balancers
   are best suited for load balancing of TCP traffic where extreme performance is requited Operating at the connection level(Layer 4),Network Load Balancers are capable of handling millions
   of request per second, while maintaing ultra-low latencies
   Use for extreme performance
   
Classic Load Balancers
	are the legacy Elastic Load Balancers






















	





	








	





















































	